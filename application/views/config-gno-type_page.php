<div class="row"> <?php if($this->session->userdata("user_type")=='admin'){  ?> <div class="col-sm-6 col-md-6 col-lg-6"> <legend><strong><span class="glyphicon glyphicon-list" aria-hidden="true"></span> ໂກຼໂນເກັບເອກະສານ</strong></legend> <ul class="nav nav-tabs" role="tablist"> <li role="presentation" class="active tab-gin"><a href="#grono-in" aria-controls="home" role="tab" data-toggle="tab"><span class="glyphicon glyphicon-import" aria-hidden="true"></span> ໂກຼໂນ ຂາເຂົ້າ</a></li> <li role="presentation" class="tab-gout "><a href="#grono-out" aria-controls="profile" role="tab" data-toggle="tab"><span class="glyphicon glyphicon-export" aria-hidden="true"></span> ໂກຼໂນ ຂາອອກ</a></li> </ul> <div class="tab-content"> <div role="tabpanel" class="tab-pane active" id="grono-in"> <div style="padding-top: 10px;  margin-bottom: -8px;"> <span class="pull-right" > <button type="button" class="btn btn-default bbox add-grono-in" data='1' > <span class="glyphicon glyphicon-plus-sign" aria-hidden="true"></span> ເພີ່ມລາຍການ </button> </span> <div style="clear: both;"></div> </div> <p > <div class="form-group fgrono-in" style="display: none;" > <div class="input-group"> <div class="input-group-addon"> ຊື່ໂກຼໂນ: </div> <input type="text" class="form-control" id="name-gin" stype="add" id_update="" placeholder="ປ້ອນຊື່ໂກຼໂນ"> <div class="input-group-addon btn btn-default save-gin"> <i class="fa fa-save"></i> </div> </div> </div> <ul class="list-group sh_gin"> <?php foreach($sh_gno_in  as $grono){  ?> <li class="list-group-item item_gin<?php echo $grono['id'];?>"> <i class="fa fa-folder-o"></i> <span id="gin_name<?php echo $grono['id'];?>"><?php echo $grono['grono_name']?></span> <span class="pull-right"><a onclick="edit_gin(<?php echo $grono['id'];?>)"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></a> <span class="glyphicon glyphicon-option-vertical" aria-hidden="true"></span> <a onclick="del_gin(<?php echo $grono['id'];?>)"><span class="glyphicon glyphicon-trash" aria-hidden="true"></span> </a> </span></li> <?php  }  ?> </ul></p> </div> <div role="tabpanel" class="tab-pane" id="grono-out"> <div style="padding-top: 10px;  margin-bottom: -8px;"> <span class="pull-right" > <button type="button" class="btn btn-default bbox add-grono-out" data='1' > <span class="glyphicon glyphicon-plus-sign" aria-hidden="true"></span> ເພີ່ມລາຍການ</button> </span> <div style="clear: both;"></div> </div> <p> <div class="form-group fgrono-out" style="display: none;" > <div class="input-group"> <div class="input-group-addon"> ຊື່ໂກຼໂນ: </div> <input type="text" class="form-control" id="name-gout" stype="add" id_update="" placeholder="ປ້ອນຊື່ໂກຼໂນ"> <div class="input-group-addon btn btn-default save-gout"> <i class="fa fa-save"></i> </div> </div> </div> <ul class="list-group sh_gout"> <?php foreach($sh_gno_out  as $grono){  ?> <li class="list-group-item item_gout<?php echo $grono['id'];?>"> <i class="fa fa-folder-o"></i> <span id="gout_name<?php echo $grono['id'];?>"><?php echo $grono['grono_name']?></span> <span class="pull-right"><a onclick="edit_gout(<?php echo $grono['id'];?>)"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></a> <span class="glyphicon glyphicon-option-vertical" aria-hidden="true"></span> <a onclick="del_gout(<?php echo $grono['id'];?>)"><span class="glyphicon glyphicon-trash" aria-hidden="true"></span> </a> </span></li> <?php  }  ?> </ul></p> </div> </div> </div> <div class="col-sm-6 col-md-6 col-lg-6" > <legend><strong><span class="glyphicon glyphicon-briefcase" aria-hidden="true"></span> ພາກສ່ວນຕ່າງໆ </strong></legend> <ul class="nav nav-tabs" role="tablist"> <li role="presentation" class="active"><a href="#tab-head"  role="tab" data-toggle="tab"><span class="glyphicon glyphicon-inbox" aria-hidden="true"></span> ສຳນັກງານໃຫຍ່</a></li> <li role="presentation" class=""><a href="#tab-brunch"  role="tab" data-toggle="tab"><span class="glyphicon glyphicon-th-large" aria-hidden="true"></span> ສາຂາ</a></li> <li role="presentation" class=""><a href="#tab-unit"  role="tab" data-toggle="tab"><span class="glyphicon glyphicon-th" aria-hidden="true"></span> ໜ່ວຍບໍລິການ</a></li> <li role="presentation" class=""><a href="#tab-other"  role="tab" data-toggle="tab"><span class="glyphicon glyphicon-unchecked" aria-hidden="true"></span> ພາກສ່ວນອື່ນ</a></li> </ul> <div class="tab-content"> <div role="tabpanel" class="tab-pane active" id="tab-head"> <div style="padding-top: 10px;  margin-bottom: -8px;"> <span class="pull-right" > <button type="button" class="btn btn-default bbox add-heard-btn" data='1' > <span class="glyphicon glyphicon-plus-sign" aria-hidden="true"></span> ເພີ່ມລາຍການ</button> </span> <div style="clear: both;"></div> </div> <p > <div class="form-group form-heard" style="display: none;" > <div class="input-group"> <div class="input-group-addon"> ຊື່ພາກສ່ວນ: </div> <input type="text" class="form-control" id="name-h" data_type="add" stype="heard"  id_update="" placeholder="ປ້ອນຊື່ພາກສ່ວນ"> <div class="input-group-addon btn btn-default save-h"> <i class="fa fa-save"></i> </div> </div> </div> <ul class="list-group sh_list_heard"> <?php foreach($sh_hoffice  as $office){  ?> <li class="list-group-item item_heard<?php echo $office['id'];?>"> <i class="fa fa-caret-square-o-right"></i> <span id="heard_name<?php echo $office['id'];?>"><?php echo $office['name']?></span> <span class="pull-right"><a onclick="edit_heard(<?php echo $office['id'];?>)"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></a> <span class="glyphicon glyphicon-option-vertical" aria-hidden="true"></span> <a onclick="del_heard(<?php echo $office['id'];?>)"><span class="glyphicon glyphicon-trash" aria-hidden="true"></span> </a> </span></li> <?php  }  ?> </ul></p> </div> <div role="tabpanel" class="tab-pane" id="tab-brunch"> <div style="padding-top: 10px;  margin-bottom: -8px;"> <span class="pull-right" > <button type="button" class="btn btn-default bbox add-brunch-btn" data='1' > <span class="glyphicon glyphicon-plus-sign" aria-hidden="true"></span> ເພີ່ມລາຍການ</button> </span> <div style="clear: both;"></div> </div> <p > <div class="form-group form-brunch" style="display: none;" > <div class="input-group"> <div class="input-group-addon"> ຊື່ພາກສ່ວນ: </div> <input type="text" class="form-control" id="name-b" data_type="add" stype="brunch"  id_update="" placeholder="ປ້ອນຊື່ພາກສ່ວນ"> <div class="input-group-addon btn btn-default save-b"> <i class="fa fa-save"></i> </div> </div> </div> <ul class="list-group sh_list_brunch"> <?php foreach($sh_boffice  as $office){  ?> <li class="list-group-item item_brunch<?php echo $office['id'];?>"> <i class="fa fa-caret-square-o-right"></i> <span id="brunch_name<?php echo $office['id'];?>"><?php echo $office['name']?></span> <span class="pull-right"><a onclick="edit_brunch(<?php echo $office['id'];?>)"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></a> <span class="glyphicon glyphicon-option-vertical" aria-hidden="true"></span> <a onclick="del_brunch(<?php echo $office['id'];?>)"><span class="glyphicon glyphicon-trash" aria-hidden="true"></span> </a> </span></li> <?php  }  ?> </ul></p> </div> <div role="tabpanel" class="tab-pane" id="tab-unit"> <div style="padding-top: 10px;  margin-bottom: -8px;"> <span class="pull-right" > <button type="button" class="btn btn-default bbox add-unit-btn" data='1' > <span class="glyphicon glyphicon-plus-sign" aria-hidden="true"></span> ເພີ່ມລາຍການ</button> </span> <div style="clear: both;"></div> </div> <p > <div class="form-group form-unit" style="display: none;" > <div class="input-group"> <div class="input-group-addon"> ຊື່ພາກສ່ວນ: </div> <input type="text" class="form-control" id="name-u" data_type="add" stype="unit"  id_update="" placeholder="ປ້ອນຊື່ພາກສ່ວນ"> <div class="input-group-addon btn btn-default save-u"> <i class="fa fa-save"></i> </div> </div> </div> <ul class="list-group sh_list_unit"> <?php foreach($sh_uoffice  as $office){  ?> <li class="list-group-item item_unit<?php echo $office['id'];?>"> <i class="fa fa-caret-square-o-right"></i> <span id="unit_name<?php echo $office['id'];?>"><?php echo $office['name']?></span> <span class="pull-right"><a onclick="edit_unit(<?php echo $office['id'];?>)"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></a> <span class="glyphicon glyphicon-option-vertical" aria-hidden="true"></span> <a onclick="del_unit(<?php echo $office['id'];?>)"><span class="glyphicon glyphicon-trash" aria-hidden="true"></span> </a> </span></li> <?php  }  ?> </ul></p> </div> <div role="tabpanel" class="tab-pane" id="tab-other"> <div style="padding-top: 10px;  margin-bottom: -8px;"> <span class="pull-right" > <button type="button" class="btn btn-default bbox add-other-btn" data='1' > <span class="glyphicon glyphicon-plus-sign" aria-hidden="true"></span> ເພີ່ມລາຍການ</button> </span> <div style="clear: both;"></div> </div> <p > <div class="form-group form-other" style="display: none;" > <div class="input-group"> <div class="input-group-addon"> ຊື່ພາກສ່ວນ: </div> <input type="text" class="form-control" id="name-o" data_type="add" stype="other"  id_update="" placeholder="ປ້ອນຊື່ພາກສ່ວນ"> <div class="input-group-addon btn btn-default save-o"> <i class="fa fa-save"></i> </div> </div> </div> <ul class="list-group sh_list_other"> <?php foreach($sh_ooffice  as $office){  ?> <li class="list-group-item item_other<?php echo $office['id'];?>"> <i class="fa fa-caret-square-o-right"></i> <span id="other_name<?php echo $office['id'];?>"><?php echo $office['name']?></span> <span class="pull-right"><a onclick="edit_other(<?php echo $office['id'];?>)"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></a> <span class="glyphicon glyphicon-option-vertical" aria-hidden="true"></span> <a onclick="del_other(<?php echo $office['id'];?>)"><span class="glyphicon glyphicon-trash" aria-hidden="true"></span> </a> </span></li> <?php  }  ?> </ul></p> </div> </div> </div> <?php } else { ?> <div class="container-fluid"> <div class="alert alert-warning alert-dismissible" role="alert"><button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button> <strong>  ທ່ານບໍ່ມີສິດເຂົ້າເຖິງຂໍ້ມູນ ການຕັ້ງຄ່າລະບົບ!</strong> <br> - ສະເພາະ ຜູ້ດູແລລະບົບ ເທົ່ານັ້ນ! </div> </div> <?php } ?> </div> <script type="text/javascript"> $('.add-grono-in').click(function(event) {$('#name-gin').val(''); $('#name-gin').attr('stype','add'); $('.add-grono-in').attr('st','add-gin'); click_add(); }); $('#name-gin').keyup(function(event) {if(event.keyCode == 13){save_gin(); } }); $('.save-gin').click(function(event) {save_gin(); }); function click_add(){var data = $('.add-grono-in').attr('data'); if(data=='1') {$('.add-grono-in').attr('data', '0'); $('.add-grono-in').attr('class', 'btn btn-danger bbox add-grono-in'); $('.add-grono-in').html('<span class="glyphicon glyphicon-remove-sign" aria-hidden="true"></span> ຍົກເລີກ'); var intrvl = setInterval(function(){ $('#name-gin:first').focus(); clearInterval(intrvl); },800);} else {$('.add-grono-in').attr('data', '1'); $('.add-grono-in').attr('class', 'btn btn-default bbox add-grono-in'); $('.add-grono-in').html('<span class="glyphicon glyphicon-plus-sign" aria-hidden="true"></span> ເພີ່ມລາຍການ'); } $('.fgrono-in').toggle('slow'); } function save_gin(){var urlh = window.location.href; var url = urlh.split('#')[0]; var name = $('#name-gin').val(); var stype = $('#name-gin').attr('stype'); var id_update = $('#name-gin').attr('id_update'); if(name !=''){if(stype == "add"){ $('.img-loading').show(); $.post(url+'index.php/'+'mdata/add',{ type:'add-grono', name:name, gtype:'gin'} ,function(data){$('.img-loading').hide(); $('#name-gin').val(''); $('.add-grono-in').attr('data', '1'); $('.add-grono-in').attr('class', 'btn btn-default bbox add-grono-in'); $('.add-grono-in').html('<span class="glyphicon glyphicon-plus-sign" aria-hidden="true"></span> ເພີ່ມລາຍການ</button>'); $('.fgrono-in').toggle('slow'); $('.sh_gin').append(data); }); } else if(stype == "update") {   $('.img-loading').show(); $.post(url+'index.php/'+'mdata/update',{ type:'update-grono', name:name, id:id_update} ,function(data){$('.img-loading').hide(); $('#name-gin').val(''); $('.add-grono-in').attr('data', '1'); $('.add-grono-in').attr('class', 'btn btn-default bbox add-grono-in'); $('.add-grono-in').html('<span class="glyphicon glyphicon-plus-sign" aria-hidden="true"></span> ເພີ່ມລາຍການ</button>'); $('.fgrono-in').toggle('slow'); $('#gin_name'+id_update).html(name); }); } } } function edit_gin(id) {var name = $('#gin_name'+id).html(); $('.add-grono-in').attr('data', '0'); $('.add-grono-in').attr('class', 'btn btn-danger bbox add-grono-in'); $('.add-grono-in').html('<span class="glyphicon glyphicon-remove-sign" aria-hidden="true"></span> ຍົກເລີກ</button>'); var intrvl = setInterval(function(){ $('#name-gin:first').focus(); clearInterval(intrvl); },800); $('.fgrono-in').slideDown('slow'); $('#name-gin').val(name); $('#name-gin').attr('stype','update'); $('#name-gin').attr('id_update',id); } function del_gin(id) {var urlh = window.location.href; var url = urlh.split('#')[0]; var name = $('#gin_name'+id).html(); var datash = "<div class='well'><h4>ໂກຼໂນ: "+name+"</h4></div>"; window.b = $.confirm({title: '<font color="#ffbd4a"><i class=" ti-alert "></i> ທ່ານແນ່ໃຈບໍ່ ທີ່ຈະລຶບຂໍ້ມູນນີ້?</font>', content: datash, animation: 'zoom', animationClose: 'top', confirmButton: '<span class="glyphicon glyphicon-ok-circle" aria-hidden="true"></span> ຍືນຍັນລຶບ', cancelButton: '<span class="glyphicon glyphicon-remove-circle" aria-hidden="true"></span> ຍົກເລີກ', confirm: function () { $('.img-loading').show(); $.post(url+'index.php/'+'mdata/del',{ type:'del-grono', id:id} ,function(data){$('.item_gin'+id).remove(); $('.img-loading').hide(); }); }  }); } $('.add-grono-out').click(function(event) {$('#name-gout').val(''); $('#name-gout').attr('stype','add'); $('.add-grono-out').attr('st','add-gout'); click_add_out(); }); $('#name-gout').keyup(function(event) {if(event.keyCode == 13){save_gout(); } }); $('.save-gout').click(function(event) {save_gout(); }); function click_add_out(){var data = $('.add-grono-out').attr('data'); if(data=='1') {$('.add-grono-out').attr('data', '0'); $('.add-grono-out').attr('class', 'btn btn-danger bbox add-grono-out'); $('.add-grono-out').html('<span class="glyphicon glyphicon-remove-sign" aria-hidden="true"></span> ຍົກເລີກ'); var intrvl = setInterval(function(){ $('#name-gout:first').focus(); clearInterval(intrvl); },800);} else {$('.add-grono-out').attr('data', '1'); $('.add-grono-out').attr('class', 'btn btn-default bbox add-grono-out'); $('.add-grono-out').html('<span class="glyphicon glyphicon-plus-sign" aria-hidden="true"></span> ເພີ່ມລາຍການ'); } $('.fgrono-out').toggle('slow'); } function save_gout(){var urlh = window.location.href; var url = urlh.split('#')[0]; var name = $('#name-gout').val(); var stype = $('#name-gout').attr('stype'); var id_update = $('#name-gout').attr('id_update'); if(name !=''){if(stype == "add"){ $('.img-loading').show(); $.post(url+'index.php/'+'mdata/add',{ type:'add-grono', name:name, gtype:'gout'} ,function(data){$('.img-loading').hide(); $('#name-gout').val(''); $('.add-grono-out').attr('data', '1'); $('.add-grono-out').attr('class', 'btn btn-default bbox add-grono-out'); $('.add-grono-out').html('<span class="glyphicon glyphicon-plus-sign" aria-hidden="true"></span> ເພີ່ມລາຍການ'); $('.fgrono-out').toggle('slow'); $('.sh_gout').append(data); }); } else if(stype == "update") {   $('.img-loading').show(); $.post(url+'index.php/'+'mdata/update',{ type:'update-grono', name:name, id:id_update} ,function(data){$('.img-loading').hide(); $('#name-gout').val(''); $('.add-grono-out').attr('data', '1'); $('.add-grono-out').attr('class', 'btn btn-default bbox add-grono-out'); $('.add-grono-out').html('<span class="glyphicon glyphicon-plus-sign" aria-hidden="true"></span> ເພີ່ມລາຍການ'); $('.fgrono-out').toggle('slow'); $('#gout_name'+id_update).html(name); }); } } } function edit_gout(id) {var name = $('#gout_name'+id).html(); $('.add-grono-out').attr('data', '0'); $('.add-grono-out').attr('class', 'btn btn-danger bbox add-grono-out'); 
$('.add-grono-out').html('<span class="glyphicon glyphicon-remove-sign" aria-hidden="true"></span> ຍົກເລີກ');
  var intrvl = setInterval(function(){ $('#name-gout:first').focus(); clearInterval(intrvl); },800);
  $('.fgrono-out').slideDown('slow'); $('#name-gout').val(name); $('#name-gout').attr('stype','update'); $('#name-gout').attr('id_update',id); } function del_gout(id) {var urlh = window.location.href; var url = urlh.split('#')[0]; var name = $('#gout_name'+id).html(); var datash = "<div class='well'><h4>ໂກຼໂນ: "+name+"</h4></div>"; window.b = $.confirm({title: '<font color="#ffbd4a"><i class=" ti-alert "></i> ທ່ານແນ່ໃຈບໍ່ ທີ່ຈະລຶບຂໍ້ມູນນີ້?</font>', content: datash, animation: 'zoom', animationClose: 'top', confirmButton: '<span class="glyphicon glyphicon-ok-circle" aria-hidden="true"></span> ຍືນຍັນລຶບ', cancelButton: '<span class="glyphicon glyphicon-remove-circle" aria-hidden="true"></span> ຍົກເລີກ', confirm: function () { $('.img-loading').show(); $.post(url+'index.php/'+'mdata/del',{ type:'del-grono', id:id} ,function(data){$('.item_gout'+id).remove(); $('.img-loading').hide(); }); }  }); } $('.add-heard-btn').click(function(event) {$('#name-h').val(''); $('#name-h').attr('data_type','add'); click_add_h(); }); $('#name-h').keyup(function(event) {if(event.keyCode == 13){save_h(); } }); $('.save-h').click(function(event) {save_h(); }); function click_add_h(){var data = $('.add-heard-btn').attr('data'); if(data=='1') {$('.add-heard-btn').attr('data', '0'); $('.add-heard-btn').attr('class', 'btn btn-danger bbox add-heard-btn'); $('.add-heard-btn').html('<span class="glyphicon glyphicon-remove-sign" aria-hidden="true"></span> ຍົກເລີກ'); var intrvl = setInterval(function(){ $('#name-h:first').focus(); clearInterval(intrvl); },800);} else {$('.add-heard-btn').attr('data', '1'); $('.add-heard-btn').attr('class', 'btn btn-default bbox add-heard-btn'); $('.add-heard-btn').html('<span class="glyphicon glyphicon-plus-sign" aria-hidden="true"></span> ເພີ່ມລາຍການ'); } $('.form-heard').toggle('slow'); } function save_h(){var urlh = window.location.href; var url = urlh.split('#')[0]; var name = $('#name-h').val(); var stype = $('#name-h').attr('stype'); var data_type = $('#name-h').attr('data_type'); var id_update = $('#name-h').attr('id_update'); if(name !=''){if(data_type == "add"){ $('.img-loading').show(); $.post(url+'index.php/'+'mdata/add',{ type:'add-'+stype, name:name} ,function(data){$('.img-loading').hide(); $('#name-h').val(''); $('.add-heard-btn').attr('data', '1'); $('.add-heard-btn').attr('class', 'btn btn-default bbox add-heard-btn'); $('.add-heard-btn').html('<span class="glyphicon glyphicon-plus-sign" aria-hidden="true"></span> ເພີ່ມລາຍການ'); $('.form-heard').toggle('slow'); $('.sh_list_heard').append(data); }); } else if(data_type == "update") {   $('.img-loading').show(); $.post(url+'index.php/'+'mdata/update',{ type:'update-'+stype, name:name, id:id_update} ,function(data){$('.img-loading').hide(); $('#name-h').val(''); $('.add-heard-btn').attr('data', '1'); $('.add-heard-btn').attr('class', 'btn btn-default bbox add-heard-btn'); $('.add-heard-btn').html('<span class="glyphicon glyphicon-plus-sign" aria-hidden="true"></span> ເພີ່ມລາຍການ'); $('.form-heard').toggle('slow'); $('#heard_name'+id_update).html(name); }); } } } function edit_heard(id) {var name = $('#heard_name'+id).html(); $('.add-heard-btn').attr('data', '0'); $('.add-heard-btn').attr('class', 'btn btn-danger bbox add-heard-btn'); $('.add-heard-btn').html('<span class="glyphicon glyphicon-remove-sign" aria-hidden="true"></span> ຍົກເລີກ'); var intrvl = setInterval(function(){ $('#name-h:first').focus(); clearInterval(intrvl); },800); $('.form-heard').slideDown('slow'); $('#name-h').val(name); $('#name-h').attr('data_type','update'); $('#name-h').attr('id_update',id); } function del_heard(id) {var urlh = window.location.href; var url = urlh.split('#')[0]; var name = $('#heard_name'+id).html(); var datash = "<div class='well'><h4>ພາກສ່ວນ: "+name+"</h4></div>"; window.b = $.confirm({title: '<font color="#ffbd4a"><i class=" ti-alert "></i> ທ່ານແນ່ໃຈບໍ່ ທີ່ຈະລຶບຂໍ້ມູນນີ້?</font>', content: datash, animation: 'zoom', animationClose: 'top', confirmButton: '<span class="glyphicon glyphicon-ok-circle" aria-hidden="true"></span> ຍືນຍັນລຶບ', cancelButton: '<span class="glyphicon glyphicon-remove-circle" aria-hidden="true"></span> ຍົກເລີກ', confirm: function () { $('.img-loading').show(); $.post(url+'index.php/'+'mdata/del',{ type:'del-heard', id:id} ,function(data){$('.item_heard'+id).remove(); $('.img-loading').hide(); }); }  }); } $('.add-brunch-btn').click(function(event) {$('#name-b').val(''); $('#name-b').attr('data_type','add'); click_add_b(); }); $('#name-b').keyup(function(event) {if(event.keyCode == 13){save_b(); } }); $('.save-b').click(function(event) {save_b(); }); function click_add_b(){var data = $('.add-brunch-btn').attr('data'); if(data=='1') {$('.add-brunch-btn').attr('data', '0'); $('.add-brunch-btn').attr('class', 'btn btn-danger bbox add-brunch-btn'); $('.add-brunch-btn').html('<span class="glyphicon glyphicon-remove-sign" aria-hidden="true"></span> ຍົກເລີກ'); var intrvl = setInterval(function(){ $('#name-b:first').focus(); clearInterval(intrvl); },800);} else {$('.add-brunch-btn').attr('data', '1'); $('.add-brunch-btn').attr('class', 'btn btn-default bbox add-brunch-btn'); $('.add-brunch-btn').html('<span class="glyphicon glyphicon-plus-sign" aria-hidden="true"></span> ເພີ່ມລາຍການ'); } $('.form-brunch').toggle('slow'); } function save_b(){var urlh = window.location.href; var url = urlh.split('#')[0]; var name = $('#name-b').val(); var stype = $('#name-b').attr('stype'); var data_type = $('#name-b').attr('data_type'); var id_update = $('#name-b').attr('id_update'); if(name !=''){if(data_type == "add"){ $('.img-loading').show(); $.post(url+'index.php/'+'mdata/add',{ type:'add-'+stype, name:name} ,function(data){$('.img-loading').hide(); $('#name-b').val(''); $('.add-brunch-btn').attr('data', '1'); $('.add-brunch-btn').attr('class', 'btn btn-default bbox add-brunch-btn'); $('.add-brunch-btn').html('<span class="glyphicon glyphicon-plus-sign" aria-hidden="true"></span> ເພີ່ມລາຍການ'); $('.form-brunch').toggle('slow'); $('.sh_list_brunch').append(data); }); } else if(data_type == "update") {   $('.img-loading').show(); $.post(url+'index.php/'+'mdata/update',{ type:'update-'+stype, name:name, id:id_update} ,function(data){$('.img-loading').hide(); $('#name-b').val(''); $('.add-brunch-btn').attr('data', '1'); $('.add-brunch-btn').attr('class', 'btn btn-default bbox add-brunch-btn'); $('.add-brunch-btn').html('<span class="glyphicon glyphicon-plus-sign" aria-hidden="true"></span> ເພີ່ມລາຍການ'); $('.form-brunch').toggle('slow'); $('#brunch_name'+id_update).html(name); }); } } } function edit_brunch(id) {var name = $('#brunch_name'+id).html(); $('.add-brunch-btn').attr('data', '0'); $('.add-brunch-btn').attr('class', 'btn btn-danger bbox add-brunch-btn'); $('.add-brunch-btn').html('<span class="glyphicon glyphicon-remove-sign" aria-hidden="true"></span> ຍົກເລີກ'); var intrvl = setInterval(function(){ $('#name-b:first').focus(); clearInterval(intrvl); },800); $('.form-brunch').slideDown('slow'); $('#name-b').val(name); $('#name-b').attr('data_type','update'); $('#name-b').attr('id_update',id); } function del_brunch(id) {var urlh = window.location.href; var url = urlh.split('#')[0]; var name = $('#brunch_name'+id).html(); var datash = "<div class='well'><h4>ພາກສ່ວນ: "+name+"</h4></div>"; window.b = $.confirm({title: '<font color="#ffbd4a"><i class=" ti-alert "></i> ທ່ານແນ່ໃຈບໍ່ ທີ່ຈະລຶບຂໍ້ມູນນີ້?</font>', content: datash, animation: 'zoom', animationClose: 'top', confirmButton: '<span class="glyphicon glyphicon-ok-circle" aria-hidden="true"></span> ຍືນຍັນລຶບ', cancelButton: '<span class="glyphicon glyphicon-remove-circle" aria-hidden="true"></span> ຍົກເລີກ', confirm: function () { $('.img-loading').show(); $.post(url+'index.php/'+'mdata/del',{ type:'del-brunch', id:id} ,function(data){$('.item_brunch'+id).remove(); $('.img-loading').hide(); }); }  }); } $('.add-unit-btn').click(function(event) {$('#name-u').val(''); $('#name-u').attr('data_type','add'); click_add_u(); }); $('#name-u').keyup(function(event) {if(event.keyCode == 13){save_u(); } }); $('.save-u').click(function(event) {save_u(); }); function click_add_u(){var data = $('.add-unit-btn').attr('data'); if(data=='1') {$('.add-unit-btn').attr('data', '0'); $('.add-unit-btn').attr('class', 'btn btn-danger bbox add-unit-btn'); $('.add-unit-btn').html('<span class="glyphicon glyphicon-remove-sign" aria-hidden="true"></span> ຍົກເລີກ'); var intrvl = setInterval(function(){ $('#name-u:first').focus(); clearInterval(intrvl); },800);} else {$('.add-unit-btn').attr('data', '1'); $('.add-unit-btn').attr('class', 'btn btn-default bbox add-unit-btn'); $('.add-unit-btn').html('<span class="glyphicon glyphicon-plus-sign" aria-hidden="true"></span> ເພີ່ມລາຍການ'); } $('.form-unit').toggle('slow'); } function save_u(){var urlh = window.location.href; var url = urlh.split('#')[0]; var name = $('#name-u').val(); var stype = $('#name-u').attr('stype'); var data_type = $('#name-u').attr('data_type'); var id_update = $('#name-u').attr('id_update'); if(name !=''){if(data_type == "add"){ $('.img-loading').show(); $.post(url+'index.php/'+'mdata/add',{ type:'add-'+stype, name:name} ,function(data){$('.img-loading').hide(); $('#name-u').val(''); $('.add-unit-btn').attr('data', '1'); $('.add-unit-btn').attr('class', 'btn btn-default bbox add-unit-btn'); $('.add-unit-btn').html('<span class="glyphicon glyphicon-plus-sign" aria-hidden="true"></span> ເພີ່ມລາຍການ'); $('.form-unit').toggle('slow'); $('.sh_list_unit').append(data); }); } else if(data_type == "update") {     $('.img-loading').show(); $.post(url+'index.php/'+'mdata/update',{ type:'update-'+stype, name:name, id:id_update} ,function(data){$('.img-loading').hide(); $('#name-u').val(''); $('.add-unit-btn').attr('data', '1'); $('.add-unit-btn').attr('class', 'btn btn-default bbox add-unit-btn'); $('.add-unit-btn').html('<span class="glyphicon glyphicon-plus-sign" aria-hidden="true"></span> ເພີ່ມລາຍການ'); $('.form-unit').toggle('slow'); $('#unit_name'+id_update).html(name); }); } } } function edit_unit(id) {var name = $('#unit_name'+id).html(); $('.add-unit-btn').attr('data', '0'); $('.add-unit-btn').attr('class', 'btn btn-danger bbox add-unit-btn'); $('.add-unit-btn').html('<span class="glyphicon glyphicon-remove-sign" aria-hidden="true"></span> ຍົກເລີກ'); var intrvl = setInterval(function(){ $('#name-u:first').focus(); clearInterval(intrvl); },800); $('.form-unit').slideDown('slow'); $('#name-u').val(name); $('#name-u').attr('data_type','update'); $('#name-u').attr('id_update',id); } function del_unit(id) {var urlh = window.location.href; var url = urlh.split('#')[0]; var name = $('#unit_name'+id).html(); var datash = "<div class='well'><h4>ພາກສ່ວນ: "+name+"</h4></div>"; window.b = $.confirm({title: '<font color="#ffbd4a"><i class=" ti-alert "></i> ທ່ານແນ່ໃຈບໍ່ ທີ່ຈະລຶບຂໍ້ມູນນີ້?</font>', content: datash, animation: 'zoom', animationClose: 'top', confirmButton: '<span class="glyphicon glyphicon-ok-circle" aria-hidden="true"></span> ຍືນຍັນລຶບ', cancelButton: '<span class="glyphicon glyphicon-remove-circle" aria-hidden="true"></span> ຍົກເລີກ', confirm: function () { $('.img-loading').show(); $.post(url+'index.php/'+'mdata/del',{ type:'del-unit', id:id} ,function(data){$('.item_unit'+id).remove(); $('.img-loading').hide(); }); }  }); } $('.add-other-btn').click(function(event) {$('#name-o').val(''); $('#name-o').attr('data_type','add'); click_add_o(); }); $('#name-o').keyup(function(event) {if(event.keyCode == 13){save_o(); } }); $('.save-o').click(function(event) {save_o(); }); function click_add_o(){var data = $('.add-other-btn').attr('data'); if(data=='1') {$('.add-other-btn').attr('data', '0'); $('.add-other-btn').attr('class', 'btn btn-danger bbox add-other-btn'); $('.add-other-btn').html('<span class="glyphicon glyphicon-remove-sign" aria-hidden="true"></span> ຍົກເລີກ'); var intrvl = setInterval(function(){ $('#name-o:first').focus(); clearInterval(intrvl); },800);} else {$('.add-other-btn').attr('data', '1'); $('.add-other-btn').attr('class', 'btn btn-default bbox add-other-btn'); $('.add-other-btn').html('<span class="glyphicon glyphicon-plus-sign" aria-hidden="true"></span> ເພີ່ມລາຍການ'); } $('.form-other').toggle('slow'); } function save_o(){var urlh = window.location.href; var url = urlh.split('#')[0]; var name = $('#name-o').val(); var stype = $('#name-o').attr('stype'); var data_type = $('#name-o').attr('data_type'); var id_update = $('#name-o').attr('id_update'); if(name !=''){if(data_type == "add"){ $('.img-loading').show(); $.post(url+'index.php/'+'mdata/add',{ type:'add-'+stype, name:name} ,function(data){$('.img-loading').hide(); $('#name-o').val(''); $('.add-other-btn').attr('data', '1'); $('.add-other-btn').attr('class', 'btn btn-default bbox add-other-btn'); $('.add-other-btn').html('<span class="glyphicon glyphicon-plus-sign" aria-hidden="true"></span> ເພີ່ມລາຍການ'); $('.form-other').toggle('slow'); $('.sh_list_other').append(data); }); } else if(data_type == "update") {   $('.img-loading').show(); $.post(url+'index.php/'+'mdata/update',{ type:'update-'+stype, name:name, id:id_update} ,function(data){$('.img-loading').hide(); $('#name-o').val(''); $('.add-other-btn').attr('data', '1'); $('.add-other-btn').attr('class', 'btn btn-default bbox add-other-btn'); $('.add-other-btn').html('<span class="glyphicon glyphicon-plus-sign" aria-hidden="true"></span> ເພີ່ມລາຍການ'); $('.form-other').toggle('slow'); $('#other_name'+id_update).html(name); }); } } } function edit_other(id) {var name = $('#other_name'+id).html(); $('.add-other-btn').attr('data', '0'); $('.add-other-btn').attr('class', 'btn btn-danger bbox add-other-btn'); $('.add-other-btn').html('<span class="glyphicon glyphicon-remove-sign" aria-hidden="true"></span> ຍົກເລີກ'); var intrvl = setInterval(function(){ $('#name-o:first').focus(); clearInterval(intrvl); },800); $('.form-other').slideDown('slow'); $('#name-o').val(name); $('#name-o').attr('data_type','update'); $('#name-o').attr('id_update',id); } function del_other(id) {var urlh = window.location.href; var url = urlh.split('#')[0]; var name = $('#other_name'+id).html(); var datash = "<div class='well'><h4>ພາກສ່ວນ: "+name+"</h4></div>"; window.b = $.confirm({title: '<font color="#ffbd4a"><i class=" ti-alert "></i> ທ່ານແນ່ໃຈບໍ່ ທີ່ຈະລຶບຂໍ້ມູນນີ້?</font>', content: datash, animation: 'zoom', animationClose: 'top', confirmButton: '<span class="glyphicon glyphicon-ok-circle" aria-hidden="true"></span> ຍືນຍັນລຶບ', cancelButton: '<span class="glyphicon glyphicon-remove-circle" aria-hidden="true"></span> ຍົກເລີກ', confirm: function () { $('.img-loading').show(); $.post(url+'index.php/'+'mdata/del',{ type:'del-other', id:id} ,function(data){$('.item_other'+id).remove(); $('.img-loading').hide(); }); }  }); } </script>